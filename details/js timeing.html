<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>

    <img id="image" src="http://pic5.40017.cn/02/000/5c/2c/rBLkCFl-n1OAWZ2sAAF2wKHp59k584.jpg" alt="">

    <script>
        function doTimer(length, resolution, oninstance, oncomplete) {
            var steps = (length / 100) * (resolution / 10),
                speed = length / steps,
                count = 0,
                start = new Date().getTime();

            function instance() {
                if (count++ == steps) {
                    oncomplete(steps, count);
                }
                else {
                    oninstance(steps, count);

                    var diff = (new Date().getTime() - start) - (count * speed);
                    window.setTimeout(instance, (speed - diff));
                }
            }

            window.setTimeout(instance, speed);
        }
        var img = document.getElementById('image');

        var opacity = 1;
        img.style.opacity = opacity;

        doTimer(5000, 20, function (steps) {
            opacity = opacity - (1 / steps);
            img.style.opacity = opacity;
        }, function () {
            img.style.opacity = 0;
        });
    </script>
</body>

</html>